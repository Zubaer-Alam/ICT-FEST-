<div class="right_col" role="main">
  <!-- top tiles -->
  <div class="x_content">
    <div class="row">
      <div class="col-sm-12">
        <div class="card-box table-responsive">
          <p class="text-muted font-13 m-b-30">
            KeyTable provides Excel like cell navigation on any table. Events (focus, blur, action etc) can be assigned to individual cells, columns, rows or all cells.
          </p>

          <%let success = "Participant has been Deleted successfully!"%>
          <%let success2 = "Data updated successfully!" %>
          <%if(error.length>0){if(error==success || error==success2){%>
          <div class="alert alert-success"><%=error%></div>
          <%}else{%>
          <div class="alert alert-danger"><%=error%></div>
          <%}%> <%}%>

          <table id="datatable-keytable" class="table table-striped table-bordered" style="width:100%">
            <thead>
              <tr>
                <!-- <th>ID</th> -->
                <th>Name</th>
                <th>Category</th>
                <th>Contact No</th>
                <th>Email</th>
                <th>Institution</th>
                <th>T-shirt</th>
                <th>Total</th>
                <th>Paid</th>
                <th>Selected</th>
                <th>Select</th>
                <th>Payment Status</th>
                <th>Payment Done</th>
                <th>Edit</th>
                <th>Delete</th>
                <th>Unique Key</th>
              </tr>
            </thead>


            <tbody>
              <% if (participants.length>0){ %>
                <% participants.forEach(participant => { %>
                  <!-- <th><%= participant._id %></th> -->
                  <th><%= participant.name %></th>
                  <th><%= participant.category %></th>
                  <th><%= participant.contact %></th>
                  <th><%= participant.email %></th>
                  <th><%= participant.institution %></th>
                  <th><%= participant.tshirt %></th>
                  <th><%= participant.total %></th>
                  <th><%= participant.paid %></th>
                  <th>
                    <% if(participant.selected==true) { %>
                    <p style="color: green;">YES</p> <% }else{ %> <p style="color: brown;">NO</p> <% } %>
                  </th>
                  <th>
                    <% const selectionURL = "/MathOlympiad/select/" + participant._id %>
                    <a href="<%= selectionURL %>"><i class="fa fa-check"></i><span class="fa fa-chevron"></span></a>
                  </th>
                  <th>
                    <% if(participant.paid==participant.total) { %>
                      <p style="color: green;">successful</p> <% }else{ %> <p style="color: brown;">payment due</p> <% } %>
                  </th>
                  <th>
                    <% const paymentDoneURL = "/MathOlympiad/payment/" + participant._id %>
                    <a href="<%= paymentDoneURL %>"><i class="fa fa-money"></i><span class="fa fa-chevron"></span></a>
                  </th>
                  <th>Edit</th>
                  <th>
                    <% const deleteURL = "/MathOlympiad/delete/" + participant._id %>
                    <a href="<%= deleteURL %>"><i class="fa fa-trash"></i><span class="fa fa-chevron"></span></a>
                  </th>
                  <th><%= participant.uniqueKey %></th>
                </tr>
                <%})}%>
            </tbody>

          </table>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
